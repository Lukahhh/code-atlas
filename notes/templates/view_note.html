{% extends 'base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block head_extra %}
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/github-gist.min.css">
{% endblock head_extra %}

{% block content %}
<section class="pb-0 bg-light ">
    <div class="container min-vh-100">
        <div class="row section-title justify-content-center">
            <div class="col-md-12 col-lg-9 col-xl-9">
                <h3 class="display-4 text-center">{{ object.title }}</h3>
                <div class="card">
                    <div class="lead m-4" id="body"></div>
                </div>
            </div>
            {% for ref in object.references.all %}
                {{ ref }}
            {% endfor %}
        </div>
    </div>
    <div class="divider divider-bottom bg-primary-3"></div>
</section>
{% endblock content %}

{% block scripts_extra %}
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>

<script id="mdown" type="text/markdown">
{% autoescape off %}
{{ object.body }}
{% endautoescape %}
</script>
<script>
    hljs.initHighlightingOnLoad();
    var body = document.getElementById('body');
    var mdown = document.getElementById('mdown');
    body.innerHTML = marked(mdown.textContent);
</script>
{% endblock scripts_extra %}